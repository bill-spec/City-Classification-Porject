---
title: "All Geocoded LA"
author: "Bill Lang"
date: "7/27/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(ggmap)
```


```{r}
la <- read.csv("C:/Users/Billy/Desktop/hipHop/hiphop_la.csv")
save(la, file = "LA.RData")
load(file = "LA.RData")
la
```


```{r}
la$Area <- tolower(la$Area)
la$Street <- tolower(la$Street)
la <- la %>% unite(Address, c("Hse.No","Street","Area"), sep = " ",remove = FALSE)
la$Address <- paste(la$Address, ", CA")
la
```

Geocoding and saving the files same as before. 
 
```{r}
geocoded <- tidygeocoder::geocode(.tbl = la, address = Address, method = "osm", lat = latitude, long = longitude)
save(geocoded, file = "allLA.RData")
```


```{r}
load(file = "allBoston.RData")
geocoded 
```

```{r}
geocoded <- geocoded %>% select(Year,Month,Date,Price.type,Total.rooms,Column,Area,Hse.No,Street,Cross.Street,Address,Type,latitude,longitude)
```


```{r}
k <- "AIzaSyDNMoGGfgl9f5KtGCnp9BegNb7ZDqPu7gg"
register_google(key = k)
```


```{r}
map <- get_map(location = 'Boston', zoom = 11, maptype = "terrain-background", source = 'google', color = 'color')
ggmap(map) + geom_point(data = geocoded, mapping = aes(x = longitude, y = latitude, color = factor(Area)), size = 1) + theme(legend.position = "none")
```

